window.addEventListener("DOMContentLoaded",function(){"use strict";const e=window.location.search,t=document.querySelector(".submit__img"),n=function(e){if(e.indexOf("method=visa&mastercard")>=0)return"visa_mc.png";if(e.indexOf("method=MTS")>=0)return"mts.png";if(e.indexOf("method=webmoney")>=0)return"webmoney.png";if(e.indexOf("method=payeer")>=0)return"payeer.png";return"bitcoin.png"}(e);"bitcoin.png"!==n&&(t.src="img/"+n);const o=document.getElementById("email"),d=document.querySelector(".submit__btn"),i=document.getElementById("status-message");d&&(o.addEventListener("focus",function(){i.classList.remove("error"),i.innerHTML=""}),d.addEventListener("click",function(e){e.preventDefault();const t=document.getElementById("email").value;if(t.match(/^[0-9a-z-\.\_]+\@[0-9a-z-]{1,}\.[a-z]{2,}$/i)){const e="email="+t;i.classList.add("loading"),function(e,t){const n=document.getElementById("submit__form"),o=new XMLHttpRequest;o.open("POST",e,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(t),o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){const e=document.getElementById("amount"),t=document.getElementById("currency"),d=document.getElementById("shop_id"),i=document.getElementById("sign"),a=document.getElementById("payway"),s=document.getElementById("shop_order_id"),r=document.getElementById("description"),c=JSON.parse(o.responseText);e.value=c.amount,t.value=c.currency,d.value=c.shop_id,i.value=c.sign,a.value=c.payway,s.value=c.shop_order_id,r.value=c.description,n.submit()}}}("https://test-telega.piastrix24.com/api/get_data",e)}else i.innerText="email invalid",i.classList.add("error")}))});
